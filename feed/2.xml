<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
    xmlns:content="http://purl.org/rss/1.0/modules/content/"
    xmlns:wfw="http://wellformedweb.org/CommentAPI/"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
    xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
>
 
<channel>
    <title>Bruno P. Kinoshita</title>
    <atom:link href="http://kinoshita.eti.br/blog/feed.xml" rel="self" type="application/rss+xml" />
    <link>http://kinoshita.eti.br/</link>
    <description></description>
    <lastBuildDate>Tue, 23 Jun 2015 14:32:16 +1200</lastBuildDate>
    <language>en-US</language>
    <generator>PieCrust 1.2.0</generator>
 
<item>
    <title>Too many SQL variables exception in Graphite with SQLite3</title>
    <pubDate>Thu, 04 Jul 2013 00:00:00 +1200</pubDate>
    <link>/2013/07/04/too_many_sql_variables_in_graphite_with_sqlite3.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;Having run &lt;a href=&quot;http://graphite.wikidot.com/&quot;&gt;Graphite&lt;/a&gt; for a while, today I found a rather annoying issue. We were using 
&lt;a href=&quot;https://code.launchpad.net/~lucio.torre/graphite/add-events/+merge/69142&quot;&gt;events&lt;/a&gt;, and everything was working perfectly fine so far. But for the 24 last hours, 
the graph was blank. &lt;/p&gt;

&lt;p&gt;Actually, in the dashboard, the graph was &lt;em&gt;missing&lt;/em&gt;, being displayed as a gray box. 
Enabling the web inspector in Google Chrome I got the graph URL. Opening the link in 
a new tab gave me the exception message: &lt;strong&gt;too many SQL variables&lt;/strong&gt; (&lt;sup&gt;1&lt;/sup&gt;).&lt;/p&gt;

&lt;p&gt;After some research, I found out this was a bug in SQLite. After trying to hack the code, 
and being concerned about using a patched version of Graphite and having to update it 
later, I decided to switch database. &lt;/p&gt;

&lt;p&gt;But to avoid losing the graphs, users and other settings, including the events, I 
migrated the SQLite database to a MySQL server. This MySQL server was already installed in 
the server machine, since this machine hosted a &lt;a href=&quot;http://www.zabbix.com/&quot;&gt;Zabbix&lt;/a&gt; server too.&lt;/p&gt;

&lt;p&gt;Here are the steps required to migrate your database from SQLite to MySQL (&lt;sup&gt;2&lt;/sup&gt;).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Download &lt;strong&gt;sqlite3_mysql&lt;/strong&gt; python script from &lt;a href=&quot;http://www.redmine.org/boards/2/topics/12793&quot;&gt;http://www.redmine.org/boards/2/topics/12793&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Stop Apache/Nginx&lt;/li&gt;
&lt;li&gt;mysql -u user -p -e &amp;#8220;create database redmine graphite set utf8;&amp;#8221; &lt;/li&gt;
&lt;li&gt;sqlite3 graphite.db .dump | sqlite3-to-mysql.py | mysql -uroot -pyourpass graphite&lt;/li&gt;
&lt;li&gt;Start Apache again&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After tail&amp;#8217;ing the Graphite webapp log file, &lt;/p&gt;

&lt;pre class=&quot;shell&quot; style=&quot;font-family:monospace;&quot;&gt;tail f- storage/log/webapp/error.log&lt;/pre&gt;

&lt;p&gt;I noticed the Python MySQLdb wasn&amp;#8217;t installed.&lt;/p&gt;

&lt;pre class=&quot;python&quot; style=&quot;font-family:monospace;&quot;&gt;ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb&lt;/pre&gt;

&lt;p&gt;My server was an Ubuntu 13.04, so I installed the module simply with the following 
command.&lt;/p&gt;

&lt;pre class=&quot;shell&quot; style=&quot;font-family:monospace;&quot;&gt;apt-get install python-mysqldb&lt;/pre&gt;

&lt;p&gt;Hope that helps!&lt;/p&gt;

&lt;p&gt;&lt;small&gt;&lt;sup&gt;1&lt;/sup&gt; You may have to enable *DEBUG* in your Django settings for seeing the exception in your browser&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;p&gt;&lt;small&gt;&lt;sup&gt;2&lt;/sup&gt; Zabbix needed some minor tweaks in order to use &lt;a href=&quot;https://mariadb.org/&quot;&gt;MariaDB&lt;/a&gt;, but probably you can give it a try too&lt;/small&gt;&lt;/p&gt;&lt;/p&gt;
</description>
</item>
<item>
    <title>Graphite: Broken images</title>
    <pubDate>Wed, 17 Apr 2013 00:00:00 +1200</pubDate>
    <link>/2013/04/17/graphite-broken-images.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;This morning I was setting up a &lt;a href=&quot;http://graphite.wikidot.com/&quot; title=&quot;Graphite&quot;&gt;Graphite &lt;/a&gt;server to collect metrics with &lt;a href=&quot;https://github.com/etsy/statsd/&quot; title=&quot;statsd&quot;&gt;statsd&lt;/a&gt;, &lt;a href=&quot;http://logstash.net/&quot; title=&quot;LogStash&quot;&gt;LogStash &lt;/a&gt;and &lt;a href=&quot;https://github.com/jmxtrans/jmxtrans&quot; title=&quot;jmxtrans&quot;&gt;jmxtrans&lt;/a&gt;. After following the instructions from @jgeurst, I&amp;#8217;ve successfully installed Graphite.&lt;/p&gt;

&lt;p&gt;I had previously installed another test box, so I decided to take a deeper look at the settings, write a &lt;a href=&quot;https://puppetlabs.com/&quot; title=&quot;Puppet&quot;&gt;puppet&lt;/a&gt; manifest and prepare this new box to become a production server. However, after browsing the webapp, all graphs were broken.&lt;/p&gt;

&lt;p&gt;After googling a while, reading forums and bugs, I decided to open the &lt;em&gt;$GRAPHITE_HOME/webapp/graphite/render/views.py&lt;/em&gt;, adding &lt;em&gt;log.rendering(&amp;#8230;)&lt;/em&gt; statements (not the most elegant solution, I know).&lt;/p&gt;

&lt;p&gt;By following the program workflow I found out it was entering a block after checking if it should remotely render the image. This feature is turned on/off by &lt;strong&gt;REMOTE_RENDERING&lt;/strong&gt; = True/False, in local_settings.py.&lt;/p&gt;

&lt;p&gt;After setting this to &lt;em&gt;False&lt;/em&gt; the problem was solved.&lt;/p&gt;
</description>
</item>
<item>
    <title>Fix laggy Flash (Pepper) in Chrome</title>
    <pubDate>Sun, 31 Mar 2013 00:00:00 +1300</pubDate>
    <link>/2013/03/31/fix-laggy-flash-pepper-in-chrome.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;My chrome died twice this morning. Checking the system logs I found some segmentation errors. Since it was not so recent version, I updated to the latest version of Chrome. But after that my Flash player was laggy/slowly, and I couldn&amp;#8217;t listen to &lt;a href=&quot;http://tunein.com/radio/Live-Ireland-Channel-1-s17895/#&quot; title=&quot;Live Ireland Channel 1&quot;&gt;Live Ireland Channel 1&lt;/a&gt; no more :-( (I listen to either this radio or r/electrohouse on reddit.tv while I&amp;#8217;m programming&amp;#8230; I know, I&amp;#8217;m a bit weird).&lt;/p&gt;

&lt;p&gt;If you are having the same problem, here&amp;#8217;s the list of actions that I did to fix it.&lt;/p&gt;

&lt;p&gt;TL;DR: Disable the Pepper Flash, as well as the Gnash or other flash libraries installed, download flash plug-in from &lt;a href=&quot;http://get.adobe.com/flashplayer/&quot; title=&quot;http://get.adobe.com/flashplayer/&quot;&gt;http://get.adobe.com/flashplayer/&lt;/a&gt; and enable it.&lt;/p&gt;

&lt;ul&gt;
    &lt;li&gt;Went to chrome:plugins and disabled the Pepper Flash.&lt;/li&gt;
    &lt;li&gt;Now I was back at using the Gnash flash plug-in previously installed. Now, although I could watch to Youtube videos, my radio wasn&amp;#8217;t playing yet.&lt;/li&gt;
    &lt;li&gt;Disabled all Flash plug-ins, went to &lt;a href=&quot;http://get.adobe.com/flashplayer/&quot; title=&quot;http://get.adobe.com/flashplayer/&quot;&gt;http://get.adobe.com/flashplayer/&lt;/a&gt; and got the latest version (tar.gz, since I&amp;#8217;m using Debian).&lt;/li&gt;
    &lt;li&gt;Copied the libflashplayer.so to &lt;em&gt;/opt/google/chrome/plugins&lt;/em&gt;&lt;/li&gt;
    &lt;li&gt;Re-enabled the Shockwave Flash plug-in (you have to expand the details section, in order to be able to choose which version you want to enable&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And now I&amp;#8217;m happily writing this blog and code, listening to Salonika - Dublin City Ramblers.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;
</description>
</item>
<item>
    <title>Learning with Open Source: Reviewing SVN commits log</title>
    <pubDate>Sun, 10 Feb 2013 00:00:00 +1300</pubDate>
    <link>/2013/02/10/learning-with-open-source-reviewing-svn-commits-log.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;Last year I became an &lt;a href=&quot;http://www.apache.org&quot; title=&quot;Apache&quot;&gt;Apache&lt;/a&gt; committer, and dedicated most of my time learning the &lt;a href=&quot;http://incubator.apache.org/learn/theapacheway.html&quot; title=&quot;The Apache Way&quot;&gt;Apache way&lt;/a&gt;, reading different mailing lists and getting used to the things a committer is supposed to know (voting process, keeping everything in the mailing list, and so it goes) and getting used to &lt;a href=&quot;http://commons.apache.org/functor&quot; title=&quot;Apache Commons Functor&quot;&gt;[functor]&lt;/a&gt; API.&lt;/p&gt;

&lt;p&gt;In 2013 I hope I can help in the release of [functor], since Java and &lt;a href=&quot;http://reddit.com/r/functionalprogramming&quot;&gt;functional programming&lt;/a&gt; are getting a lot more of attention recently, probably due to the &lt;a href=&quot;http://openjdk.java.net/projects/lambda/&quot; title=&quot;Project Lambda&quot;&gt;project lambda&lt;/a&gt;. But I also want to start contributing with the other components from commons (like &lt;a href=&quot;http://commons.apache.org/math/&quot; title=&quot;Apache Commons Math&quot;&gt;math&lt;/a&gt;, &lt;a href=&quot;http://commons.apache.org/io/&quot; title=&quot;Apache Commons IO&quot;&gt;io&lt;/a&gt;, &lt;a href=&quot;http://commons.apache.org/jcs/&quot; title=&quot;Apache Commons JCS&quot;&gt;jcs&lt;/a&gt;) and other top level projects (&lt;a href=&quot;http://hadoop.apache.org/&quot; title=&quot;Apache Hadoop&quot;&gt;hadoop&lt;/a&gt;, &lt;a href=&quot;http://nutch.apache.org/&quot; title=&quot;Apache Nutch&quot;&gt;nutch&lt;/a&gt;, &lt;a href=&quot;http://lucene.apache.org/&quot; title=&quot;Apache Lucene&quot;&gt;lucene&lt;/a&gt;).&lt;/p&gt;

&lt;h4&gt;Reviewing SVN commits log&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FUNCTOR-14&quot; title=&quot;Apache Commons Functor - Issue 14&quot;&gt;FUNCTOR-14&lt;/a&gt; was created to enhance the &lt;a href=&quot;http://commons.apache.org/functor/apidocs/org/apache/commons/functor/generator/package-summary.html&quot;&gt;generators API&lt;/a&gt; in [functor]. I&amp;#8217;d worked on &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/functor/branches/generators-FUNCTOR-14/&quot;&gt;a branch&lt;/a&gt; for this issue, but needed some review in order to be able to merge it with the trunk. That&amp;#8217;s where you can see why Open Source is so awesome. Another Apache member, Matt Benson, created &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/functor/branches/FUNCTOR-14-mm/&quot;&gt;another branch&lt;/a&gt; to work on the project structure, but also to review the generator API.&lt;/p&gt;

&lt;p style=&#039;text-align: center&#039;&gt;&lt;a href=&quot;/2013/02/10/learning-with-open-source-reviewing-svn-commits-log/feather_small.gif&quot;&gt;&lt;img src=&quot;/2013/02/10/learning-with-open-source-reviewing-svn-commits-log/feather_small.gif&quot; alt=&quot;Apache Software Foundation&quot; width=&quot;203&quot; height=&quot;61&quot; class=&quot;alignnone size-full wp-image-1125&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

</description>
</item>
<item>
    <title>git clone fails with fatal: Unable to find remote helper for &#039;https&#039;</title>
    <pubDate>Thu, 17 Jan 2013 00:00:00 +1300</pubDate>
    <link>/2013/01/17/git-clone-fails-with-fatal-unable-to-find-remote-helper-for-https.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;I&amp;#8217;ve been working in a client site without Internet connection, and behind a troll proxy. There is an internal yum repository, but many dependencies are missing.&lt;/p&gt;

&lt;p&gt;There weren&amp;#8217;t git-all, git or git-core packages there, so I had to download and install from sources. I didn&amp;#8217;t pay attention to the &lt;code&gt;./configure&lt;/code&gt; output and proceeded with &lt;code&gt;make&lt;/code&gt; and &lt;code&gt;make install&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Git was installed and ready to rock, but in my first &lt;code&gt;git clone https://&lt;/code&gt; (SSH ports are blocked) I received: &lt;strong&gt;fatal: Unable to find remote helper for &amp;#8216;https&amp;#8217;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Turns out that I was missing libcurl-devel, though I did have curl. After installing libcurl-devel and installing from sources again all worked fine.&lt;/p&gt;
</description>
</item>
<item>
    <title>Using Apache Commons Functor functional interfaces with Java 8 lambdas</title>
    <pubDate>Fri, 21 Dec 2012 00:00:00 +1300</pubDate>
    <link>/2012/12/21/using-apache-commons-functor-functional-interfaces-with-java-8-lambdas.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;&lt;a href=&#039;http://commons.apache.org/sandbox/functor/&#039;&gt;Apache Commons Functor&lt;/a&gt; (hereon [functor]) is an &lt;a href=&#039;http://commons.apache.org/&#039;&gt;Apache Commons&lt;/a&gt; component that provides a functional programming API and several patterns implemented (visitor, generator, aggregator, etc). &lt;a href=&quot;http://openjdk.java.net/projects/lambda/&quot; title=&quot;Java 8 lambda&quot;&gt;Java 8&lt;/a&gt; has several nice new features, including lambda expressions and &lt;a href=&quot;http://datumedge.blogspot.com.br/2012/06/java-8-lambdas.html&quot;&gt;functional interfaces&lt;/a&gt;. In Java 8, lambdas or lambdas expressions are &lt;a href=&quot;http://tronicek.blogspot.com.br/2007/12/closures-closure-is-form-of-anonymous_28.html&quot;&gt;closures&lt;/a&gt; that can be evaluated and behave like anonymous methods.&lt;/p&gt;

&lt;p&gt;Functional interfaces are interfaces with only one method. These interfaces can be used in lambdas and save you a lot of time from writing anonymous classes or even implementing the interfaces. [functor] provides several functional interfaces (thanks to &lt;a href=&quot;https://issues.apache.org/jira/browse/FUNCTOR-20&quot;&gt;Matt Benson&lt;/a&gt;). It hasn&amp;#8217;t been released yet, but there are some new examples in the project site, in the &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/functor/trunk/&quot; title=&quot;[functor] SVN trunk&quot;&gt;trunk of the SVN&lt;/a&gt;. I will use one of these examples to show how [functor] functional interfaces can be used in conjunction with Java 8 lambdas.&lt;/p&gt;

&lt;p&gt;After the example with [functor] in Java 8, I will explain how I am running Java 8 in Eclipse (it&amp;#8217;s kind of a &lt;a href=&quot;http://www.speaklikeabrazilian.com/expression/define?e=Gambiarra&quot; title=&quot;Gambiarra&quot;&gt;gambiarra&lt;/a&gt;, but works well).&lt;/p&gt;

</description>
</item>
<item>
    <title>Running BDD tests from TestLink in Jenkins</title>
    <pubDate>Wed, 07 Nov 2012 00:00:00 +1300</pubDate>
    <link>/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;Last night and this morning I spent some time working on running &lt;a href=&quot;http://en.wikipedia.org/wiki/Behavior-driven_development&quot; title=&quot;BDD&quot;&gt;BDD&lt;/a&gt; tests that were created in &lt;a href=&quot;http://www.teamst.org&quot; title=&quot;TestLink&quot;&gt;TestLink&lt;/a&gt; in &lt;a href=&quot;http://jenkins-ci.org&quot; title=&quot;Jenkins CI&quot;&gt;Jenkins&lt;/a&gt;, using &lt;a href=&quot;https://wiki.jenkins-ci.org/display/JENKINS/TestLink+Plugin&quot; title=&quot;Jenkins TestLink Plugin&quot;&gt;testlink-plugin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Similar integration has already been proposed in &lt;a href=&quot;http://www.sqaopen.net/blog/en/?tag=jinfeng&quot; title=&quot;JinFeng - by Olivier Renault&quot;&gt;JinFeng&lt;/a&gt;, by Olivier Renault. Basically, you write BDD stories in TestLink (a story goes into the Test Case summary), Jenkins retrieves these stories and executes them using a skeleton project.&lt;/p&gt;

&lt;p style=&#039;text-align: center&#039;&gt;&lt;a href=&quot;/2012/11/07/running-bdd-tests-from-testlink-in-jenkins/tl_bdd.png&quot;&gt;&lt;img src=&quot;/2012/11/07/running-bdd-tests-from-testlink-in-jenkins/tl_bdd.png&quot; alt=&quot;&quot; title=&quot;TestLink BDD&quot; class=&quot;aligncenter size-full wp-image-1207&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are many ways to use BDD. In some of them you write code like Java, Ruby or Perl, and in others you write a DSL. I started working with JBehave, but for this integration, I preferred to use a &lt;a href=&quot;http://en.wikipedia.org/wiki/Domain-specific_language&quot; title=&quot;DSL&quot;&gt;DSL&lt;/a&gt; - as TestLink doesn&amp;#8217;t maintain source code, only test cases -, so I switched to &lt;a href=&quot;http://www.easyb.org&quot; title=&quot;easyb&quot;&gt;easyb&lt;/a&gt;.&lt;/p&gt;

</description>
</item>
<item>
    <title>A quick view on Wordpress, Mantis and Jenkins plug-in API</title>
    <pubDate>Thu, 25 Oct 2012 00:00:00 +1300</pubDate>
    <link>/2012/10/25/a-quick-view-on-wordpress-mantis-and-jenkins-plug-in-api.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;I&amp;#8217;m preparing a &lt;em&gt;plug-in API proposal for &lt;a href=&quot;http://www.teamst.org&quot; title=&quot;TestLink&quot;&gt;TestLink&lt;/a&gt;&lt;/em&gt;, and thought that the best way to learn how to write a good plug-in API would be by looking at other application&amp;#8217;s plug-in API&amp;#8217;s.&lt;/p&gt;

&lt;p style=&quot;text-align: center&quot;&gt;&lt;img src=&quot;/2012/10/25/a-quick-view-on-wordpress-mantis-and-jenkins-plug-in-api/testlink_logo_2.jpg &quot; alt=&quot;&quot; title=&quot;TestLink&quot; width=&quot;283&quot; height=&quot;170&quot; class=&quot;aligncenter size-full wp-image-1153&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This post contains information that I gathered for creating this new API, but that may also be useful for other programmers. I used &lt;a href=&quot;#wp&quot;&gt;Wordpress&lt;/a&gt;, &lt;a href=&quot;#mantis&quot;&gt;Mantis&lt;/a&gt; and &lt;a href=&quot;#jenkins&quot;&gt;Jenkins&lt;/a&gt; in this study. Let me know if you find any mistakes or if you have any other suggestions.&lt;/p&gt;

</description>
</item>
<item>
    <title>Replacing a HashSet with a BitSet</title>
    <pubDate>Sat, 20 Oct 2012 00:00:00 +1300</pubDate>
    <link>/2012/10/20/replacing-a-hashset-with-a-bitset.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;I always read the messages in the &lt;a href=&quot;http://www.apache.org/foundation/mailinglists.html&quot; title=&quot;Apache mailing lists&quot;&gt;Apache dev mailing lists&lt;/a&gt;, including Apache Commons &lt;a href=&quot;http://commons.apache.org/mail-lists.html&quot; title=&quot;Apache Commons mailing lists&quot;&gt;dev mailing list&lt;/a&gt;. And you should too. There are always interesting discussions. Sometimes you participate, other times you only watch what&amp;#8217;s happening, but in the end &lt;strong&gt;you always learn something new&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A few days ago, I found &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-839&quot; title=&quot;LANG-839&quot;&gt;an issue&lt;/a&gt; where it was being proposed to replace an unnecessary &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html&quot; title=&quot;HashSet&quot;&gt;HashSet&lt;/a&gt; in &lt;a href=&quot;http://commons.apache.org/lang/api-release/org/apache/commons/lang3/ArrayUtils.html&quot; title=&quot;ArrayUtils&quot;&gt;ArrayUtils&lt;/a&gt;#removeElements() by a &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/BitSet.html&quot; title=&quot;BitSet&quot;&gt;BitSet&lt;/a&gt;. Here&amp;#8217;s how the code looked like: &lt;/p&gt;

&lt;pre class=&quot;java&quot; style=&quot;font-family:monospace;&quot;&gt;HashSet&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt; toRemove &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;new&lt;/span&gt; HashSet&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+map&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Map&lt;/span&gt;&lt;/a&gt;.&lt;span style=&quot;color: #006633;&quot;&gt;Entry&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+character&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Character&lt;/span&gt;&lt;/a&gt;, MutableInt&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt; e &lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; occurrences.&lt;span style=&quot;color: #006633;&quot;&gt;entrySet&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    &lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+character&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Character&lt;/span&gt;&lt;/a&gt; v &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; e.&lt;span style=&quot;color: #006633;&quot;&gt;getKey&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;int&lt;/span&gt; found &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;int&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;, ct &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; e.&lt;span style=&quot;color: #006633;&quot;&gt;getValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;.&lt;span style=&quot;color: #006633;&quot;&gt;intValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; ct&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
        found &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; indexOf&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;array, v.&lt;span style=&quot;color: #006633;&quot;&gt;charValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;, found&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;found &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
            &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;break&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
        toRemove.&lt;span style=&quot;color: #006633;&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;found&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;char&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; removeAll&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+object&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Object&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;array, extractIndices&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;toRemove&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;

&lt;p style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;/2012/10/20/replacing-a-hashset-with-a-bitset/feather_small.gif&quot;&gt;&lt;img src=&quot;/2012/10/20/replacing-a-hashset-with-a-bitset/feather_small.gif&quot; alt=&quot;&quot; title=&quot;Apache Software Foundation&quot; width=&quot;203&quot; height=&quot;61&quot; class=&quot;aligncenter size-full wp-image-1125&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The HashSet created at line 1, in the code above, was used to store the array index of the elements that should be removed. And at line 13 there is a call to removeAll method, passing the indexes to be removed. And here&amp;#8217;s how the new code looks like: &lt;/p&gt;

&lt;pre class=&quot;java&quot; style=&quot;font-family:monospace;&quot;&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+bitset&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;BitSet&lt;/span&gt;&lt;/a&gt; toRemove &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;new&lt;/span&gt; &lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+bitset&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;BitSet&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+map&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Map&lt;/span&gt;&lt;/a&gt;.&lt;span style=&quot;color: #006633;&quot;&gt;Entry&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+character&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Character&lt;/span&gt;&lt;/a&gt;, MutableInt&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt; e &lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; occurrences.&lt;span style=&quot;color: #006633;&quot;&gt;entrySet&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    &lt;a href=&quot;http://www.google.com/search?hl=en&amp;amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+character&quot;&gt;&lt;span style=&quot;color: #003399;&quot;&gt;Character&lt;/span&gt;&lt;/a&gt; v &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; e.&lt;span style=&quot;color: #006633;&quot;&gt;getKey&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;int&lt;/span&gt; found &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;int&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;, ct &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; e.&lt;span style=&quot;color: #006633;&quot;&gt;getValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;.&lt;span style=&quot;color: #006633;&quot;&gt;intValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; ct&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
        found &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; indexOf&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;array, v.&lt;span style=&quot;color: #006633;&quot;&gt;charValue&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;, found&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;found &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
            &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;break&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
        toRemove.&lt;span style=&quot;color: #006633;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;found&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;char&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; removeAll&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;array, toRemove&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;The first difference is at line 1. Instead of a HashSet, it is now using a BitSet. And at line 10, instead of adding a new element to the HashSet, now it &amp;#8220;sets&amp;#8221; a bit in the set (the bit at the specified position is now true). But there are important changes at line 13. The method removeAll was changed, and now the array doesn&amp;#8217;t require a cast anymore. And the it is not necessary to cast the elements from HashSet anymore, as now the bit in the index position of the set is set to true. So the extractIndices method could be removed.&lt;/p&gt;

&lt;p&gt;&lt;p&gt;The code got simpler. But that&amp;#8217;s not all. At &lt;a href=&quot;http://www.apache.org&quot; title=&quot;Apache Software Foundation&quot;&gt;Apache Software Foundation&lt;/a&gt; you can find a lot of talented developers - that&amp;#8217;s why I got so excited after joining them. Besides simplifying the code, the developer responsible for these changes (&lt;strong&gt;sebb&lt;/strong&gt;) also pointed out that the new code &lt;strong&gt;consumes less memory and is faster&lt;/strong&gt;. Ah! And he also wrote &lt;strong&gt;unit tests&lt;/strong&gt;&lt;/p&gt;
</description>
</item>
<item>
    <title>Adding coverage reports in Jenkins to GoogleTest with gcovr</title>
    <pubDate>Tue, 16 Oct 2012 00:00:00 +1300</pubDate>
    <link>/2012/10/16/adding-coverage-reports-in-jenkins-to-googletest-with-gcovr.html</link>
    <dc:creator>Bruno P. Kinoshita</dc:creator>
    <description>&lt;p&gt;After the &lt;a href=&quot;/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so&quot; title=&quot;Jenkins, TestLink and GTest in 5 minutes (or so)&quot;&gt;last post&lt;/a&gt; about &lt;a href=&quot;http://code.google.com/p/googletest/&quot; title=&quot;GoogleTest&quot;&gt;GoogleTest&lt;/a&gt; and &lt;a href=&quot;http://www.teamst.org&quot; title=&quot;TestLink&quot;&gt;TestLink&lt;/a&gt; using &lt;a href=&quot;https://wiki.jenkins-ci.org/display/JENKINS/TestLink+Plugin&quot; title=&quot;Jenkins TestLink Plug-in&quot;&gt;Jenkins TestLink Plug-in&lt;/a&gt;, I received an e-mail asking about &lt;a href=&quot;http://en.wikipedia.org/wiki/Code_coverage&quot; title=&quot;Code Coverage&quot;&gt;coverage&lt;/a&gt; with GoogleTest and &lt;a href=&quot;http://www.jenkins-ci.org&quot; title=&quot;Jenkins CI&quot;&gt;Jenkins&lt;/a&gt;. I&amp;#8217;ve just updated the &lt;a href=&quot;https://github.com/kinow/gtest-tap-listener/blob/master/samples/Makefile&quot;&gt;Makefile&lt;/a&gt; in the samples directory, of the &lt;a href=&quot;https://github.com/kinow/gtest-tap-listener&quot; title=&quot;GTest TAP Listener&quot;&gt;GoogleTest TAP listener project&lt;/a&gt;, to output coverage data.&lt;/p&gt;

&lt;p&gt;Basically, you have to add the compiler flags &lt;em&gt;-fprofile-arcs -ftest-coverage&lt;/em&gt; and link the executable with -lgcov. Take a look at the project&amp;#8217;s Makefile and you&amp;#8217;ll notice how simple it is. In order to have Jenkins interpreting your coverage report, you&amp;#8217;ll have to convert it to &lt;a href=&quot;http://cobertura.sourceforge.net&quot; title=&quot;Cobertura&quot;&gt;cobertura&lt;/a&gt; XML. There is a Python utility that can be used for this: &lt;a href=&quot;https://software.sandia.gov/trac/fast/wiki/gcovr&quot; title=&quot;gcovr&quot;&gt;gcovr&lt;/a&gt;. Download it and copy it to somewhere where Jenkins can execute it (e.g.: &lt;em&gt;/usr/local/bin&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;Now, if you&amp;#8217;ve followed the instructions from the previous post, you should have a job that reports your GoogleTest tests from Jenkins to TestLink using the plug-in, and is downloading the source code from GitHub. Add an extra build step  (Shell) to execute &lt;em&gt;gcovr&lt;/em&gt;.&lt;/p&gt;

</description>
</item>
</channel>
</rss>