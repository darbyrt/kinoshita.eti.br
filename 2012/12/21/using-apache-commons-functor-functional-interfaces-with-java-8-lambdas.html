  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<title>Bruno P. Kinoshita &mdash; Using Apache Commons Functor functional interfaces with Java 8 lambdas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Bruno de Paula Kinoshita personal web site" />
<meta name="keywords"
    content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache" />
<meta name="author" content="Bruno P. Kinoshita" />
<meta name="generator" content="PieCrust 1.2.0" />
<meta name="template-engine" content="Twig" />
<meta name="robots" content="all=index,follow" />
<meta name="revisit-after" content="15 days" />
<meta http-equiv="Pragma" content="no-cache" />
<meta name="distribution" content="Global" />
<meta name="url" content="http://kinoshita.eti.br/" />
<meta name="copyright" content="Bruno de Paula Kinoshita" />
<meta name="Googlebot" content="all" />
<meta name="rating" content="general" />
<meta http-equiv="expires" content="0" />
<meta name="city" content="Sao Paulo" />
<meta name="state" content="Brasil, Sao Paulo" />
<meta http-equiv="content-language" content="en" />
<meta http-equiv="imagetoolbar" content="no" />
<meta id="page_favicon" href="http://kinoshita.eti.br/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="shortcut icon" type="image/x-icon" href="http://kinoshita.eti.br/favicon.ico">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="http://kinoshita.eti.br/js/jquery-1.6.1.min.js"  type="text/javascript" charset="utf-8"></script>
<script src="http://kinoshita.eti.br/js/jquery.prettyPhoto.js"></script>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="http://kinoshita.eti.br//feed.xml" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/prettyPhoto.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/bootstrap.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/bootstrap-responsive.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/style.css" type="text/css" media="screen, projection" />
<!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
<![endif]-->
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans">
 <link rel="stylesheet" href="/css/default.css" type="text/css" media="all" />
 
</head>
<body class="home blog">
    <div class="container-fluid">
            <div class="row-fluid">
            <div id="left" class="span2">
                <div style="padding-top: 6px;">
                    <ul>
                        <li><a style="color: #E13F4D;" class="mainlink"
                            href="http://kinoshita.eti.br/">Kinoshita</a></li>
                    </ul>
                </div>
                <div class="menu-main-menu-container">
    <ul
        id="menu-main-menu"
        class="menu">
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/software.html">Software</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/illustrations.html">Illustrations</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/articles.html">Articles</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/about.html">About &#038; CV</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/contact.html">Contact</a></li>
    </ul>
</div>                <hr class="space" />
                <img src="http://kinoshita.eti.br/img/bruno.jpg"
                    title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
                <hr class="space" />
                <div class="logos">
    <a href="http://www.tupilabs.com"><img
        src="http://kinoshita.eti.br/img/logos/tupilabs_logo.png"
        title="TupiLabs"
        alt="TupiLabs" /></a> <a href="http://www.javacodegeeks.com/"><img
        src="http://kinoshita.eti.br/img/logos/logo_jcg_115x100.png"
        title="Java Code Geeks"
        alt="Java Code Geeks" /></a> <a href="http://www.open-bio.org/wiki/BOSC_2012"><img
        src="http://kinoshita.eti.br/img/logos/ISMB2012.jpg"
        title="BOSC 2012"
        alt="BOSC 2012" /></a> <a href="http://www.stpcon.com/"><img
        src="http://kinoshita.eti.br/img/logos/stpconspring2012.png"
        title="STPCon Spring 2012"
        alt="STPCon Spring 2012" /></a> <a href="http://www.oracle.com/javaone/lad-pt/"><img
        src="http://kinoshita.eti.br/img/logos/javaone.png"
        title="JavaOne 2011 LAD"
        alt="JavaOne 2011 LAD" /></a> <a href="http://www.jcertif.com"><img
        src="http://kinoshita.eti.br/img/logos/JCertif_Conf2011_2.png"
        title="JCertif 2011"
        alt="JCertif 2011" /></a> <a href="http://www.thedevelopersconference.com.br/tdc/2011/"><img
        src="http://kinoshita.eti.br/img/logos/banner-TDC2011-234x60.png"
        title="The Developer's Conference 2011"
        alt="The Developer's Conference 2011" /></a> <a href="http://belgiumtestingdays.com/past.php"><img
        src="http://kinoshita.eti.br/img/logos/btd2011_speakers_banner_1.png"
        title="Belgium Testing Days 2011"
        alt="Belgium Testing Days 2011" /></a> <a href="http://www.encontroagil.com.br/2010/principal/home.html"><img
        src="http://kinoshita.eti.br/img/logos/banner_encontro_agil.png"
        title="Encontro &Aacute;gil 2010"
        alt="Encontro &Aacute;gil 2010" /></a>
</div>            </div>
                        <div id="right" class="span8">
                <div id="main">
                <div class="post type-post status-publish format-standard hentry">
    <h1 class='post-topic'>Using Apache Commons Functor functional interfaces with Java 8 lambdas</h1>
    <small>Bruno P. Kinoshita</small> @
	<small>December 21, 2012&nbsp;15:08:14</small>
    <div class="entry">
       <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2012/12/21/using-apache-commons-functor-functional-interfaces-with-java-8-lambdas.html" data-text="Using Apache Commons Functor functional interfaces with Java 8 lambdas" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

	   <p><a href='http://commons.apache.org/sandbox/functor/'>Apache Commons Functor</a> (hereon [functor]) is an <a href='http://commons.apache.org/'>Apache Commons</a> component that provides a functional programming API and several patterns implemented (visitor, generator, aggregator, etc). <a href="http://openjdk.java.net/projects/lambda/" title="Java 8 lambda">Java 8</a> has several nice new features, including lambda expressions and <a href="http://datumedge.blogspot.com.br/2012/06/java-8-lambdas.html">functional interfaces</a>. In Java 8, lambdas or lambdas expressions are <a href="http://tronicek.blogspot.com.br/2007/12/closures-closure-is-form-of-anonymous_28.html">closures</a> that can be evaluated and behave like anonymous methods.</p>

<p>Functional interfaces are interfaces with only one method. These interfaces can be used in lambdas and save you a lot of time from writing anonymous classes or even implementing the interfaces. [functor] provides several functional interfaces (thanks to <a href="https://issues.apache.org/jira/browse/FUNCTOR-20">Matt Benson</a>). It hasn&#8217;t been released yet, but there are some new examples in the project site, in the <a href="http://svn.apache.org/viewvc/commons/proper/functor/trunk/" title="[functor] SVN trunk">trunk of the SVN</a>. I will use one of these examples to show how [functor] functional interfaces can be used in conjunction with Java 8 lambdas.</p>

<p>After the example with [functor] in Java 8, I will explain how I am running Java 8 in Eclipse (it&#8217;s kind of a <a href="http://www.speaklikeabrazilian.com/expression/define?e=Gambiarra" title="Gambiarra">gambiarra</a>, but works well).</p>

<!-- more -->

<h2>Example using Apache Commons Functor</h2>

<p>Here is a simple example with one Predicate.</p>

<pre class="java" style="font-family:monospace;">List<span style="color: #339933;">&lt;</span>Integer<span style="color: #339933;">&gt;</span> numbers <span style="color: #339933;">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arrays"><span style="color: #003399;">Arrays</span></a>.<span style="color: #006633;">asList</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">1</span>, <span style="color: #cc66cc;">2</span>, <span style="color: #cc66cc;">3</span>, <span style="color: #cc66cc;">4</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
UnaryPredicate<span style="color: #339933;">&lt;</span>Integer<span style="color: #339933;">&gt;</span> isEven <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> UnaryPredicate<span style="color: #339933;">&lt;</span>Integer<span style="color: #339933;">&gt;</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">boolean</span> test<span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #000000; font-weight: bold;">return</span> obj <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">for</span><span style="color: #009900;">&#40;</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> number <span style="color: #339933;">:</span> numbers <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>isEven.<span style="color: #006633;">test</span><span style="color: #009900;">&#40;</span>number<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">print</span><span style="color: #009900;">&#40;</span>number <span style="color: #339933;">+</span> <span style="color: #0000ff;">&quot; &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre>

<p>It prints only the the even numbers, those that pass by the predicate test.</p>

<h2>Example with Java 8 lambdas</h2>

<p>This modified version is using Java 8 lambdas</p>

<pre class="java" style="font-family:monospace;">List<span style="color: #339933;">&lt;</span>Integer<span style="color: #339933;">&gt;</span> numbers <span style="color: #339933;">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arrays"><span style="color: #003399;">Arrays</span></a>.<span style="color: #006633;">asList</span><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">1</span>, <span style="color: #cc66cc;">2</span>, <span style="color: #cc66cc;">3</span>, <span style="color: #cc66cc;">4</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
UnaryPredicate<span style="color: #339933;">&lt;</span>Integer<span style="color: #339933;">&gt;</span> isEven <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> obj<span style="color: #009900;">&#41;</span> <span style="color: #339933;">-&gt;</span> <span style="color: #009900;">&#123;</span> <span style="color: #000000; font-weight: bold;">return</span> obj <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">for</span><span style="color: #009900;">&#40;</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> number <span style="color: #339933;">:</span> numbers <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>isEven.<span style="color: #006633;">test</span><span style="color: #009900;">&#40;</span>number<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span style="color: #003399;">System</span></a>.<span style="color: #006633;">out</span>.<span style="color: #006633;">print</span><span style="color: #009900;">&#40;</span>number <span style="color: #339933;">+</span> <span style="color: #0000ff;">&quot; &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre>

<p>The behaviour is the same. <strong>UnaryPredicate</strong> is a functional interface. Its only method is <code>boolean test(A obj);</code>. And when used in a lambda expression you just have to provide the right number of arguments and implement the closure code.</p>

<p>The difference in the two code snippets are the way that the UnaryPredicate for even numbers is created. Below you can see the two ways of creating this predicate, with and without Java 8 lambdas.</p>

<pre class="java" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// pre-java-8</span>
UnaryPredicate isEven <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> UnaryPredicate<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">boolean</span> test<span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #000000; font-weight: bold;">return</span> obj <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">// with lambda-8</span>
UnaryPredicate isEven <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span style="color: #003399;">Integer</span></a> obj<span style="color: #009900;">&#41;</span> <span style="color: #339933;">-&gt;</span> <span style="color: #009900;">&#123;</span> <span style="color: #000000; font-weight: bold;">return</span> obj <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span></pre>

<h3>Java 8 in Eclipse</h3>

<p>Eclipse 8 doesn&#8217;t support Java 8, so you have to create a new builder in order to have Eclipse compiling your project&#8217;s sources. For a complete step-by-step guide on how to set up Eclipse Juno and Java 8, please refer to <a href="http://tuhrig.de/?p=921" title="http://tuhrig.de/?p=921">http://tuhrig.de/?p=921</a>. I will summarize the steps here, and will show how to include [functor] jar to the project classpath.</p>

<ul>
    <li>Download the JDK from <a href="http://jdk8.java.net/lambda" title="http://jdk8.java.net/lambda">http://jdk8.java.net/lambda</a> and install it (I installed in <em>/opt/java/jdk1.8.0</em>)</li>
    <li>Create a new Java project in Eclipse (<em>try-lambdas</em> in my case)</li>
    <li>Disable the default <strong>Java Builder</strong> from your Eclipse project, as it doesn&#8217;t work with Java 8</li>
    <li>Create a new builder. When prompted with a screen that lets you browse for a program, select Java 8 javac (for me it was <em>/opt/java/jdk1.8.0/bin/javac</em>)</li>
    <li>Add the arguments below to your builder: <br />
<pre class="shell" style="font-family:monospace;">-classpath %CLASSPATH%;commons-functor-1.0-SNAPSHOT-jar-with-dependencies.jar;.
-source 8
-d ${workspace_loc:/lambdas}/bin
${workspace_loc:/Java8}/src/lambdas/*.java</pre>
</li>
</ul>

<p>You have to include [functor]&#8217;s jar, as well as its dependencies. For the sake of convenience, I used <a href="http://maven.apache.org/plugins/maven-assembly-plugin/" title="maven-assembly-plugin">maven-assembly-plugin</a> to generate a jar with dependencies for [functor]. The code and the jar are available from this <a href="https://github.com/kinow/try-lambdas" title="try-lambdas GitHub repository">GitHub repository</a>. Or if you prefer generate your own [functor] jar with dependencies, check out the code from the repository as below.</p>

<pre class="shell" style="font-family:monospace;">svn checkout https://svn.apache.org/repos/asf/commons/sandbox/functor/trunk/ commons-functor</pre>

<p>And finally include the following to [functor] <em>pom.xml</em> before running <code>mvn clean assembly:assembly</code>.</p>

<pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;plugin<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;artifactId<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>maven-assembly-plugin<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/artifactId<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;version<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>2.3<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/version<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;descriptorRefs<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
      <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;descriptorRef<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>jar-with-dependencies<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/descriptorRef<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
    <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/descriptorRefs<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/configuration<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/plugin<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre>

<p>Thanks for your time, hope you enjoyed it! :-)</p>

    </div>
    <p class="postmetadata">
                <small>tags          [&nbsp;<a
            href="/tag/apache.html"
            rel="tag">apache</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/functor.html"
            rel="tag">functor</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/java.html"
            rel="tag">java</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/java-8.html"
            rel="tag">java-8</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/lambda.html"
            rel="tag">lambda</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/functional-programming.html"
            rel="tag">functional programming</a>&nbsp;]&nbsp;
                </small>
                        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/functional-programming.html"
            title="View all posts in functional programming"
            rel="category tag">functional programming</a>&nbsp;]&nbsp;
        category </small>
            </p>
    <div id="navigation">
                    &larr;&nbsp;<a href="/2013/01/17/git-clone-fails-with-fatal-unable-to-find-remote-helper-for-https.html" id="navigation-next">Previous post</a>
                            &mdash; <a href="/2012/11/07/running-bdd-tests-from-testlink-in-jenkins.html" id="navigation-next">Next Entries</a>&nbsp;&rarr;
            </div>
</div>
                    <br/>
                </div><!-- /#main -->
                            <div id="copy" class="">
                <p>&copy; <a href="http://kinoshita.eti.br/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
 
                                
            </div><!-- /#right -->
        </div>
    </div>
</body>
</html>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
    $("a[rel^='prettyPhoto']").prettyPhoto({
    	social_tools: false,
    	autoplay_slideshow: false, 
    	hideflash: true, 
    	autoplay: false, 
    	overlay_gallery: false
    });
  });
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32767310-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
