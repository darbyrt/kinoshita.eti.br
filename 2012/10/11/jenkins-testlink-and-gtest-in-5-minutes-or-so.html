  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<title>Bruno P. Kinoshita &mdash; Jenkins, TestLink and GTest in 5 minutes (or so)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Bruno de Paula Kinoshita personal web site" />
<meta name="keywords"
    content="kinoshita, bruno de paula kinoshita, geek, geek stuff, java, python, c, c++, msn now playing, neural network, mackenzie, sao paulo, brasil, brazil, nerd, nerd stuff, cool, jenkins, illustration, quadrinhos, machine learning, linguistic, apache" />
<meta name="author" content="Bruno P. Kinoshita" />
<meta name="generator" content="PieCrust 1.2.0" />
<meta name="template-engine" content="Twig" />
<meta name="robots" content="all=index,follow" />
<meta name="revisit-after" content="15 days" />
<meta http-equiv="Pragma" content="no-cache" />
<meta name="distribution" content="Global" />
<meta name="url" content="http://kinoshita.eti.br/" />
<meta name="copyright" content="Bruno de Paula Kinoshita" />
<meta name="Googlebot" content="all" />
<meta name="rating" content="general" />
<meta http-equiv="expires" content="0" />
<meta name="city" content="Sao Paulo" />
<meta name="state" content="Brasil, Sao Paulo" />
<meta http-equiv="content-language" content="en" />
<meta http-equiv="imagetoolbar" content="no" />
<meta id="page_favicon" href="http://kinoshita.eti.br/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="shortcut icon" type="image/x-icon" href="http://kinoshita.eti.br/favicon.ico">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="http://kinoshita.eti.br/js/jquery-1.6.1.min.js"  type="text/javascript" charset="utf-8"></script>
<script src="http://kinoshita.eti.br/js/jquery.prettyPhoto.js"></script>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<link rel="alternate" type="application/rss+xml" title="Bruno P. Kinoshita &raquo; Feed" href="http://kinoshita.eti.br//feed.xml" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/prettyPhoto.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/bootstrap.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/bootstrap-responsive.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://kinoshita.eti.br/css/style.css" type="text/css" media="screen, projection" />
<!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection" />
<![endif]-->
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans">
 <link rel="stylesheet" href="/css/default.css" type="text/css" media="all" />
 
</head>
<body class="home blog">
    <div class="container-fluid">
            <div class="row-fluid">
            <div id="left" class="span2">
                <div style="padding-top: 6px;">
                    <ul>
                        <li><a style="color: #E13F4D;" class="mainlink"
                            href="http://kinoshita.eti.br/">Kinoshita</a></li>
                    </ul>
                </div>
                <div class="menu-main-menu-container">
    <ul
        id="menu-main-menu"
        class="menu">
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/software.html">Software</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/illustrations.html">Illustrations</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/articles.html">Articles</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/about.html">About &#038; CV</a></li>
        <li
            class="menu-item"><a
            href="http://kinoshita.eti.br/contact.html">Contact</a></li>
    </ul>
</div>                <hr class="space" />
                <img src="http://kinoshita.eti.br/img/bruno.jpg"
                    title="Hmmmm" alt="Hmmmm" width="134px" height="215px" />
                <hr class="space" />
                <div class="logos">
    <a href="http://www.tupilabs.com"><img
        src="http://kinoshita.eti.br/img/logos/tupilabs_logo.png"
        title="TupiLabs"
        alt="TupiLabs" /></a> <a href="http://www.javacodegeeks.com/"><img
        src="http://kinoshita.eti.br/img/logos/logo_jcg_115x100.png"
        title="Java Code Geeks"
        alt="Java Code Geeks" /></a> <a href="http://www.open-bio.org/wiki/BOSC_2012"><img
        src="http://kinoshita.eti.br/img/logos/ISMB2012.jpg"
        title="BOSC 2012"
        alt="BOSC 2012" /></a> <a href="http://www.stpcon.com/"><img
        src="http://kinoshita.eti.br/img/logos/stpconspring2012.png"
        title="STPCon Spring 2012"
        alt="STPCon Spring 2012" /></a> <a href="http://www.oracle.com/javaone/lad-pt/"><img
        src="http://kinoshita.eti.br/img/logos/javaone.png"
        title="JavaOne 2011 LAD"
        alt="JavaOne 2011 LAD" /></a> <a href="http://www.jcertif.com"><img
        src="http://kinoshita.eti.br/img/logos/JCertif_Conf2011_2.png"
        title="JCertif 2011"
        alt="JCertif 2011" /></a> <a href="http://www.thedevelopersconference.com.br/tdc/2011/"><img
        src="http://kinoshita.eti.br/img/logos/banner-TDC2011-234x60.png"
        title="The Developer's Conference 2011"
        alt="The Developer's Conference 2011" /></a> <a href="http://belgiumtestingdays.com/past.php"><img
        src="http://kinoshita.eti.br/img/logos/btd2011_speakers_banner_1.png"
        title="Belgium Testing Days 2011"
        alt="Belgium Testing Days 2011" /></a> <a href="http://www.encontroagil.com.br/2010/principal/home.html"><img
        src="http://kinoshita.eti.br/img/logos/banner_encontro_agil.png"
        title="Encontro &Aacute;gil 2010"
        alt="Encontro &Aacute;gil 2010" /></a>
</div>            </div>
                        <div id="right" class="span8">
                <div id="main">
                <div class="post type-post status-publish format-standard hentry">
    <h1 class='post-topic'>Jenkins, TestLink and GTest in 5 minutes (or so)</h1>
    <small>Bruno P. Kinoshita</small> @
	<small>October 11, 2012&nbsp;23:44:59</small>
    <div class="entry">
       <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kinoshita.eti.br/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so.html" data-text="Jenkins, TestLink and GTest in 5 minutes (or so)" data-via="kinow" data-hashtags="opensource">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

	   <p>This is a 5 minutes guide on creating a job for a C++ project in <a href="http://www.jenkins-ci.org" title="Jenkins CI">Jenkins</a> with <a href="http://code.google.com/p/googletest" title="GoogleTest">GoogleTest</a> and reporting the test results back to <a href="http://www.teamst.org" title="TestLink">TestLink</a>, with <a href="https://wiki.jenkins-ci.org/display/JENKINS/TestLink+Plugin" title="Jenkins TestLink Plug-in">testlink-plugin</a>. </p>

<h2>The test project with GoogleTest</h2>

<p>For this simple guide we will use the samples that come with <a href="https://github.com/kinow/gtest-tap-listener" title="GTest TAP Listener">GTest TAP Listener</a>. You can get the code from GitHub with <code>git clone git://github.com/kinow/gtest-tap-listener.git</code>. Take a look at <em>gtest-tap-listener/samples/src/</em>, there you will find two C++ files: <em>gtest_main.cc</em> and <em>gtest_testHelloWorld.cc</em>.</p>

<p><em>gtest_main.cc</em> has the <a href="http://code.google.com/p/googletest/wiki/Primer#Writing_the_main()_Function" title="GTest main function">main function</a>, and executes the test suite. And <em>gtest_testHelloWorld.cc</em> has the test cases and tests. Take note of the test case and tests names.</p>

<p><a href="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_001.png"><img src="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_001.png" alt="" title="gtest_testHelloWorld.cc" width="546" height="482" class="aligncenter size-full wp-image-1083" /></a></p>

<!--more-->

<h2>Configure TestLink</h2>

<p>OK. Now create a project in TestLink or use an existing one. And the same goes for Test Suite, Test Cases and Test Plan. The only think you have to take care is to add a custom field, and use the GTest test case names. Take a look at the picture below to have a better idea.</p>

<p><a href="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_003.png"><img src="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_003.png" alt="" title="Custom Field" width="686" height="351" class="aligncenter size-full wp-image-1085" /></a></p>

<p><a href="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_002.png"><img src="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_002.png" alt="" title="Test Case with Custom Field" width="705" height="564" class="aligncenter size-full wp-image-1086" /></a></p>

<p>If you have trouble configuring TestLink, take a look at <a href="http://tupilabs.com/books/jenkins-testlink-plugin-tutorial/en/ch04s02.html" title="Chapter 4.2">this chapter</a> of <a href="http://tupilabs.com/books/jenkins-testlink-plugin-tutorial/en/" title="Jenkins TestLink Plug-in Tutorial">Jenkins TestLink Plug-in Tutorial</a>.</p>

<h2>Configure Jenkins</h2>

<p>Almost there, now the only step: <strong>configure Jenkins</strong>! Install Jenkins TestLink Plug-in, go to the global configuration and add your TestLink installation. Don&#8217;t forget the devKey in order to let Jenkins access TestLink.</p>

<p>Now create a job, configure Git Plugin to get the code from <em>git://github.com/kinow/gtest-tap-listener.git</em>. Add a build step to <em>Invoke TestLink</em>. There will be three sections: <strong>TestLink Configuration</strong>, <strong>Test Execution</strong> and <strong>Result Seeking Strategy</strong>.</p>

<p><a href="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_004.png"><img src="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_004.png" alt="" title="Job Configuration" width="925" height="678" class="aligncenter size-full wp-image-1088" /></a></p>

<p>Under TestLink Configuration, fill in your TestLink configuration, test project, test plan, any build name of your choice (you can try gtest-build-$BUILD_ID ;) and the name (not the label) of your custom field. In Test Execution, a <code>make --directory=samples</code> will build the project, and then finally you can run <code>./gtest-tap-listener-samples</code>. This executes <strong>GTest using a TAP listener to output TAP</strong>.</p>

<p>As your test execution generated some TAP files, let&#8217;s use a <em>Result Seeking Strategy</em> that reads TAP files: <strong>TAP file name</strong>. Just use <code>samples/*.tap</code> as <em>Include Pattern</em> and put your custom field name as <em <Key Custom Field</em>.</em></p>

<p>Run your build, and voil&agrave;  :-)</p>

<p><a href="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_2012_10_11.png"><img src="/2012/10/11/jenkins-testlink-and-gtest-in-5-minutes-or-so/screenshot_2012_10_11.png" alt="" title="Screenshot from 2012-10-11 23:39:03" width="1024" height="603" class="aligncenter size-large wp-image-1092" /></a></p>

<p>As an exercise, you can try to use Jenkins TestLink Plug-in to display your TAP results. This blog post has been created after <a href="https://issues.jenkins-ci.org/browse/JENKINS-15486" title="JENKINS-15486">JENKINS-15486</a>.</p>

<h2>Other resources</h2>

<ul>
    <li><a href="http://www.testanything.org" title="TAP">http://www.testanything.org</a></li>
    <li><a href="https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin" title="Jenkins TAP Plug-in">https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin</a></li>
</ul>

    </div>
    <p class="postmetadata">
                <small>tags          [&nbsp;<a
            href="/tag/jenkins.html"
            rel="tag">jenkins</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/testlink.html"
            rel="tag">testlink</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/googletest.html"
            rel="tag">googletest</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/gtest.html"
            rel="tag">gtest</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/c.html"
            rel="tag">c++</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/c.html"
            rel="tag">c</a>&nbsp;]&nbsp;
                 [&nbsp;<a
            href="/tag/testing.html"
            rel="tag">testing</a>&nbsp;]&nbsp;
                </small>
                        <br/>
        <small>posted in 
        [&nbsp;<a
            href="/jenkins.html"
            title="View all posts in jenkins"
            rel="category tag">jenkins</a>&nbsp;]&nbsp;
        category </small>
            </p>
    <div id="navigation">
                    &larr;&nbsp;<a href="/2012/10/16/adding-coverage-reports-in-jenkins-to-googletest-with-gcovr.html" id="navigation-next">Previous post</a>
                            &mdash; <a href="/2012/09/25/paper-patterns-for-introducing-a-superclass-for-test-classes.html" id="navigation-next">Next Entries</a>&nbsp;&rarr;
            </div>
</div>
                    <br/>
                </div><!-- /#main -->
                            <div id="copy" class="">
                <p>&copy; <a href="http://kinoshita.eti.br/about"><span
                            class="b">Bru</span><span
                            class="r">no de</span> <span
                            class="a">Paula</span> <span
                            class="s"></span><span
                            class="i">Kinos</span><span
                            class="l">hita</span></a>
                </p>
            </div>
 
                                
            </div><!-- /#right -->
        </div>
    </div>
</body>
</html>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
    $("a[rel^='prettyPhoto']").prettyPhoto({
    	social_tools: false,
    	autoplay_slideshow: false, 
    	hideflash: true, 
    	autoplay: false, 
    	overlay_gallery: false
    });
  });
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32767310-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
