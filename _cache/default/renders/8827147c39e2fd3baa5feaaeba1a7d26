{"segments": {"content.abstract": "<p>Right now we are working on a new project using <a href=\"http://nutch.apache.org\" title=\"Apache Nutch\">Apache Nutch</a> 2.x, <a href=\"http://hadoop.apache.org\" title=\"Apache Hadoop\">Apache Hadoop</a>, <a href=\"http://solr.apache.org\" title=\"Apache Solr\">Apache Solr</a> 4 and a lot of other cool tools/modules/API&#8217;s/etc. After following the instructions found on <a href=\"http://nlp.solutions.asia/?p=180\" title=\"http://nlp.solutions.asia/?p=180\">http://nlp.solutions.asia/?p=180</a>, I&#8217;ve successfully connected Apache Nutch, MySQL and Apache Solr.</p>\n\n<p><img src=\"/2012/09/14/integrating-nutch-2-x-mysql-and-solr/mysql_hadoop_solr_nutch.png\" alt=\"mysql_hadoop_solr_nutch\" title=\"mysql_hadoop_solr_nutch\" width=\"800\" class=\"aligncenter size-medium wp-image-994\" /></p>\n\n<p>In summary:</p>\n\n<ul>\n<li>Create a database to hold your data</li>\n<li>Use SQLDataStore and add configuration for your MySQL server</li>\n<li>Update Apache Nutch configuration</li>\n<li>Update Solr schema</li>\n</ul>\n\n<p>Now our Apache Nutch uses MySQL as data store (the place where it keeps the result of the crawling process, such as URL,  text content, metadata, and so on). That&#8217;s grand, but there is one part missing in the Solr Schema provided in the blog post.</p>\n\n<p>Due to <a href=\"https://issues.apache.org/jira/browse/SOLR-3432\" title=\"SOLR-3432\">SOLR-3432</a>, after following the tutorial and replacing the schema, we couldn&#8217;t delete the whole index anymore. After following the instructions in the bug comments, and adding the following entry in schema.xml it worked again.</p>\n\n", "content": "<p>Right now we are working on a new project using <a href=\"http://nutch.apache.org\" title=\"Apache Nutch\">Apache Nutch</a> 2.x, <a href=\"http://hadoop.apache.org\" title=\"Apache Hadoop\">Apache Hadoop</a>, <a href=\"http://solr.apache.org\" title=\"Apache Solr\">Apache Solr</a> 4 and a lot of other cool tools/modules/API&#8217;s/etc. After following the instructions found on <a href=\"http://nlp.solutions.asia/?p=180\" title=\"http://nlp.solutions.asia/?p=180\">http://nlp.solutions.asia/?p=180</a>, I&#8217;ve successfully connected Apache Nutch, MySQL and Apache Solr.</p>\n\n<p><img src=\"/2012/09/14/integrating-nutch-2-x-mysql-and-solr/mysql_hadoop_solr_nutch.png\" alt=\"mysql_hadoop_solr_nutch\" title=\"mysql_hadoop_solr_nutch\" width=\"800\" class=\"aligncenter size-medium wp-image-994\" /></p>\n\n<p>In summary:</p>\n\n<ul>\n<li>Create a database to hold your data</li>\n<li>Use SQLDataStore and add configuration for your MySQL server</li>\n<li>Update Apache Nutch configuration</li>\n<li>Update Solr schema</li>\n</ul>\n\n<p>Now our Apache Nutch uses MySQL as data store (the place where it keeps the result of the crawling process, such as URL,  text content, metadata, and so on). That&#8217;s grand, but there is one part missing in the Solr Schema provided in the blog post.</p>\n\n<p>Due to <a href=\"https://issues.apache.org/jira/browse/SOLR-3432\" title=\"SOLR-3432\">SOLR-3432</a>, after following the tutorial and replacing the schema, we couldn&#8217;t delete the whole index anymore. After following the instructions in the bug comments, and adding the following entry in schema.xml it worked again.</p>\n\n<!--more-->\n\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;field</span> <span class=\"na\">name=</span><span class=\"s\">&quot;_version_&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;long&quot;</span> <span class=\"na\">indexed=</span><span class=\"s\">&quot;true&quot;</span> <span class=\"na\">stored=</span><span class=\"s\">&quot;true&quot;</span><span class=\"nt\">/&gt;</span>\n</pre></div>\n\n<p>Restart Apache Solr and run the following command and your index will be reset.</p>\n\n<div class=\"highlight\"><pre>curl http://localhost:8983/solr/collection1/update?commit<span class=\"o\">=</span><span class=\"nb\">true</span> -H <span class=\"s2\">&quot;Content-Type: text/xml&quot;</span> --data-binary <span class=\"s2\">&quot;&lt;delete&gt;&lt;query&gt;*:*&lt;/query&gt;&lt;/delete&gt;&quot;</span>\n</pre></div>\n\n<p>Hope it helps if you are creating a similar set up. In the next posts we will explain how to set up Apache Nutch 2.x branch in Eclipse. It is very helpful for writing and debugging plug-ins.</p>\n\n<p>Laters! -B</p>"}, "pass_info": {"used_taxonomy_terms": [], "used_pagination": false, "pagination_has_more": false, "used_assets": true, "used_source_names": []}}